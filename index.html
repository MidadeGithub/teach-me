<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="midade chat" />
    <meta name="keywords" content="relevant, keywords, separated, by, commas">
    <link rel="canonical" href="https://www.example.com/page-url/">
    <link rel="shortcut icon" href="/public/icon.ico">
    <meta name="author" content="" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <title>midade chat</title>
  <link rel="icon" href="/public/icon.ico">
  <link href="/public/css/2.css" rel="stylesheet">
  <link href="/public/css/0.css" rel="stylesheet">
  <link as="style" href="/public/css/0.css" rel="preload">
  <link as="style" href="/public/css/2.css" rel="preload">
  <link as="script" href="/public/js/main.ce0a10296b947b7865c0.js" rel="preload">
  <link as="script" href="/public/js/runtime.ce0a10296b947b7865c0.js" rel="preload">
  <link as="script" href="/public/js/vendor.ce0a10296b947b7865c0.js" rel="preload">
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js" integrity="sha512-uMtXmF28A2Ab/JJO2t/vYhlaa/3ahUOgj1Zf27M5rOo8/+fcTUVH0/E0ll68njmjrLqOBjXM3V9NiPFL5ywWPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>

  <body class="">
    <div id="wrapper">
      <nav class="navbar navbar-expand-lg main__nav avbar-fixed-top header header--fixed hide-from-print">
        <div class="container">
          <a class="navbar-brand" href="#">
            <img src="/public/public/images/logo.png" class="img-fluid" alt="logo" width="" height="">
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto gap-3 mb-lg-0">

              <li class="nav-item hidden">
                <a class="nav-link btn border" href="#">Login </a>
              </li>
              <li class="nav-item">
                <a class="nav-link btn btn-primary" href="https://markoum.com/">Join Now</a>
              </li>
              
            </ul>
          </div>
        </div>
      </nav>
      <div class="main-hero">
        
        <div class="container">
          <div class="row">
            <div class="col-lg-6">
                <h1 class="hero__title">
                    Markoum.com
              </h1>

              <h3 class="">
                Tech me
               </h3>
        
    
              <div class="hero__btn hidden">
                <a href="" class="btn btn-primary">Build your chatbot</a>
              </div>
            </div>
            <div class="col-lg-6">
              <lottie-player src="https://assets3.lottiefiles.com/packages/lf20_4soa34Y516.json"  background="transparent"  speed="1"  loop  autoplay></lottie-player>
            </div>
          </div>
          
        </div>

        <div class="text-center">
          <img style="width:50px" src="/public/public/images/logo.png" class="img-fluid" alt="logo"> 

        </div>

        <svg preserveAspectRatio="none" viewBox="0 0 1440 36" class="u-block" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#0B2540"></rect><path d="M1440 36V8.2s-105.6-1.2-160.7-6a877 877 0 00-150.5 2.5c-42.1 3.9-140 15-223 15C754 19.6 700.3 6.8 548.8 7c-143.7 0-273.4 11.5-350 12.6-76.6 1.2-198.8 0-198.8 0V36h1440z" fill="#fff"></path></svg>
      </div>

      
      
      <section class="live__demo" id="Chat">
        
        <div class="container">
          <div class="section-title flex-column justify-content-center text-center mb-4">
            <h2 class="heading text-white mb-3"> Upload Your File </h2>
            <p class="text-yellow">  </p>
          </div>

          <div class="row justify-content-center">
            <div class="col-lg-12" id="uploadVideo">
              <div class="card chat__box">
                <div class="card-header text-center">
                  <h4 class="card-title text-center"> marqoom ai </h4>
                </div>

                <div class="card-body">

                </div>
                <div class="card-form">
                      <input type="file" class="form-control" @change="uploadFile"  ref="file" /> <br />
                </div>
                <div class="card-body text-center">
                     <button @click="submitFile" class="btn btn-primary btn-block" data-bs-toggle="tooltip" > Upload </button>
                     <br />
                </div>
                <div class="card-form" v-if="!loading && CurrentChat.length > 10">
                  <div class="btn-group-sm" role="group">
                      <span v-for="(prompt , key) in prompts" class="prompts">
                          <btn  @click="AskMe(key)" :class="this.getMyClass(key)" data-bs-toggle="tooltip" :for="key" :title="prompt" v-text="getKey(key)" ></btn>
                      </span>
                      <span class="prompts">
                          <btn  @click="StartChat()" :class="this.getMyClass('chat')" data-bs-toggle="tooltip" title="Lets Chat About this file" v-text="'Lets Chat'" ></btn>
                      </span>
                      <span class="prompts">
                        <btn  @click="getContent()" :class="this.getMyClass('tfregh')" data-bs-toggle="tooltip" title="Get Content from this file" v-text="'Get Content'" ></btn>
                      </span>
                  </div>
                 </div>
                <div class="card-body">
                    <div v-if="!loading && result" id="result">
                        <div class="row">
                            <div class="col-md-12" v-html="result"></div>  
                            
                            <div class="col-md-12" v-if="key=='tfregh'" v-html="CurrentChat"></div> 

                            <div class="col-md-12 text-center" v-if="result.length > 10">
                                <a href="#" class="btn btn-primary" @click="ConvertToMp3"> Convert to Audio </a>
                                <div v-if="audio.length > 10">
                                  <hr> 
                                  <audio controls autoplay>
                                    <source :src="audio" type="audio/mpeg">
                                    Your browser does not support the audio element.
                                  </audio> 
                                </div>
                            </div>
                        </div>
                    </div>
                    <i v-if="loading"  class="fa fa-spin fa-spinner fa-2x text-primary"></i>
                </div>
                <div class="card-footer">
                  <p>Powered by <strong>Markoum.com</strong></p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <svg preserveAspectRatio="none" viewBox="0 0 1440 36" class="u-block" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#0b2540"></rect><path d="M1440 36V8.2s-105.6-1.2-160.7-6a877 877 0 00-150.5 2.5c-42.1 3.9-140 15-223 15C754 19.6 700.3 6.8 548.8 7c-143.7 0-273.4 11.5-350 12.6-76.6 1.2-198.8 0-198.8 0V36h1440z" fill="#fff"></path></svg>
      </section>
      
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    ></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
   
    <script defer src="/public/js/runtime.ce0a10296b947b7865c0.js"></script><script defer src="/public/js/vendor.ce0a10296b947b7865c0.js"></script><script defer src="/public/js/main.ce0a10296b947b7865c0.js"></script></body>
    <script>
        const { createApp } = Vue
        createApp({
          data() {
            return {
              key : '' ,
              files : null  ,
              loading : false ,  
              CurrentChat : "" ,  
              ChatId : "",
              chatList: [],
              prompts : {
                  "Summary2" :  "Create Summary for Content" ,
                  "Dialogue" : "Create Conversation About your Content" ,
                  "Podcast" : "Create Podcast About your Content" ,
                  "Quiz" : "Create Quizes From Your Content" ,
                  "Twitter thread" : "Create Twitter thread about your content" 
              },
              result : "" ,
              audio  : "" ,
              results : {
                  "Summary" : "" ,
                  "Summary2" : "" ,
                  "Dialogue" : "" ,
                  "Podcast" : "" ,
                  "Quiz" : "" ,
                  "Twitter thread" : "" ,
                  "tfregh" : ""
              }
            }
          }, 
          created(){

          },
          watch: {
            CurrentChat : function(newQuestion, oldQuestion){
                if( newQuestion != oldQuestion ) {
                    this.result = "" ;
                    this.results = {
                      "Summary" : "" ,
                      "Summary2" : "" ,                      
                      "Dialogue" : "" ,
                      "Podcast" : "" ,
                      "Quiz" : "" ,
                      "Twitter thread" : "" ,
                      "tfregh":""
                    } ;
                }
            }
          },
          methods: {
              uploadFile() {
                this.files = this.$refs.file.files[0];
                this.loading = false ;
                this.audio = false ;
                this.CurrentChat = "" ;
                this.ChatId = "" ;
                this.result = "" ;
                    this.results = {
                      "Summary" : "" ,
                      "Summary2" : "" ,
                      "Dialogue" : "" ,
                      "Podcast" : "" ,
                      "Quiz" : "" ,
                      "Twitter thread" : "" ,
                      "tfregh":""
                    } ;
              },
              submitFile() {
                const formData = new FormData();
                this.loading = true ;
                formData.append('file', this.files);
                const headers = { 'Content-Type': 'multipart/form-data' };
                axios.post('content.php?_t='+Date.now(), formData, { headers }).then((res) => {
                  if( res.data.status == true ){
                    this.CurrentChat = res.data.data.content ;
                    this.ChatId = res.data.code ;
                    console.log( res.data ) ;
                  } // HTTP status
                  this.loading = false  ;
                });
              },
              getKey(key){
                  if( key == 'Summary2' ){
                      return "Summary" ;
                  }
                  return key ;
              },
              getMyClass(key){
                if( this.results.hasOwnProperty(key) && this.results[key].length > 10 ){
                    return 'btn btn-primary' ;
                }
                return 'btn btn-outline-primary' ;
              },
              StartChat(){
                  this.key = 'chat' ;
                  this.result = '    ' ;
                  this.audio = "" ;
              },
              getContent(){
                  this.key = 'tfregh' ;
                  this.result = this.CurrentChat ;
                  this.audio = "" ;
              },
              AskMe(key){
                  
                  if( this.CurrentChat.length <= 10 ) {
                        alert('Please Paste Chat Content First') ;
                        return ;
                  }

                  this.key = key ;

                  if( this.results[key].length > 30  ) {
                    this.result = this.results[key] ;
                    return ;
                  }
                  this.audio = "" ;
                  this.loading = true ;
                  // Vue.js Axios Post to api.php

                  if( this.ChatId != "" ) {
                    var objToSend = {
                        key : key ,
                        id : this.ChatId
                    } ;
                  }else{
                    var objToSend = {
                        key : key ,
                        chat : this.CurrentChat
                    } ;
                  }

                  axios.post('api.php?_t='+Date.now() , objToSend ).then( response => {
                      this.loading =  false ; 
                      this.result = response.data.answer ;
                      this.results[key] = response.data.answer ;
                  }).catch( error => {
                      console.log(error) ;
                  }) ;      
              },
              ConvertToMp3(){
                this.loading2 = true ;
                  // Vue.js Axios Post to api.php
                  axios.post('tts.php?_t='+Date.now() , {
                      text : this.result
                  }).then( response => {
                      this.loading2 =  false ; 
                      this.audio = response.data.url ;
                  }).catch( error => {
                      console.log(error) ;
                  }) ; 

                  return false ;
                  
              }
          }
        }).mount('#Chat')
      </script>
  
   <style>
        .hidden{
            display:none;
        }
        #currentChat{
            width:100%;height:450px;resize:none;
            border:1px dashed #ccc;padding:7px
        }
        .prompts{
            margin:0 5px 5px 0;display: inline-block;
        }
        .chat__box .card-body{
            height:auto;padding:0;margin-bottom:20px
        }
        #result{
                padding: 15px;
                display: block;
                box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -1px 8px 0px inset;
                color: #000;
        }

        #result p , #result span {
          font-weight: normal ;
        }

        #result h1{
            font-size: 25px;
            margin-bottom: 10px;
        }

        #result h2{
            font-size: 20px;
            margin-bottom: 10px;
        }

        #result h3{
            font-size: 17px;
            margin-bottom: 10px;
        }
   </style> 
</html>
